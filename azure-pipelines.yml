trigger:
  branches:
    include:
      - main

pr:
  branches:
    include:
      - '*'

pool:
  name: Default
  demands:
  - agent.name -equals vikas

variables:
  - name: FLASK_APP
    value: 'app.py'
  - name: FLASK_ENV
    value: 'production'

steps:
- script: |
    python -m venv env
    source env/bin/activate
    pip install --upgrade pip
    pip install -r requirements.txt
    flask run
  displayName: 'Run Flask application'
